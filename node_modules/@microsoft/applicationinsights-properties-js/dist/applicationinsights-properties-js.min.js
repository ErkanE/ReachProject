/*!
 * Application Insights JavaScript SDK - Properties Plugin, 2.6.5
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
var e=this,n=function(e){"use strict";var a="function",s="object",o="undefined",r="prototype",i="hasOwnProperty",t=Object,n=t[r],u=t.create,c=t.defineProperty,l=n[i];function f(){return typeof globalThis!==o&&globalThis?globalThis:typeof self!==o&&self?self:typeof window!==o&&window?window:typeof global!==o&&global?global:null}function d(e){throw new TypeError(e)}(f()||{}).Symbol,(f()||{}).Reflect;var g=function(e,n){return(g=t.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n[i](t)&&(e[t]=n[t])})(e,n)};function p(e,n){function t(){this.constructor=e}typeof n!==a&&null!==n&&d("Class extends value "+n+" is not a constructor or null"),g(e,n),e[r]=null===n?function(e){if(u)return u(e);if(null==e)return{};var n=typeof e;function t(){}return n!==s&&n!==a&&d("Object prototype may only be an Object:"+e),t[r]=e,new t}(n):(t[r]=n[r],new t)}var v,h="constructor",m="prototype",I="function",C="_dynInstFuncs",y="_isDynProxy",x="_dynClass",w="_dynInstChk",S=w,N="_dfOpts",T="_unknown_",A="__proto__",b="useBaseInst",k="setInstFuncs",P=Object,M=P.getPrototypeOf,L=0;function R(e,n){return e&&P[m].hasOwnProperty.call(e,n)}function D(e){return e&&(e===P[m]||e===Array[m])}function E(e){return D(e)||e===Function[m]}function F(e){if(e){if(M)return M(e);if(e=e[A]||e[m]||(e[h]?e[h][m]:null))return e}return null}function _(e,n){var t=[],o=P.getOwnPropertyNames;if(o)t=o(e);else for(var r in e)"string"==typeof r&&R(e,r)&&t.push(r);if(t&&0<t.length)for(var i=0;i<t.length;i++)n(t[i])}function U(e,n,t){return n!==h&&typeof e[n]===I&&(t||R(e,n))}function O(e){throw new TypeError("DynamicProto: "+e)}function V(e,n){for(var t=e.length-1;0<=t;t--)if(e[t]===n)return 1}function B(e,n){return R(e,m)?e.name||n||T:((e||{})[h]||{}).name||n||T}function j(e,o,n,t){R(e,m)||O("theClass is an invalid class definition.");var r=e[m];!function(e){if(M)for(var n=[],t=F(o);t&&!E(t)&&!V(n,t);){if(t===e)return 1;n.push(t),t=F(t)}}(r)&&O("["+B(e)+"] is not in class hierarchy of ["+B(o)+"]");var i=null;R(r,x)?i=r[x]:(i="_dynCls$"+B(e,"_")+"$"+L,L++,r[x]=i);var a=j[N],s=!!a[b];s&&t&&t[b]!==undefined&&(s=!!t[b]);var u,c,l,f,d,g,e=(c={},_(u=o,function(e){!c[e]&&U(u,e,!1)&&(c[e]=u[e])}),c);n(o,function(e,n,t,i){function o(e,n,t){var o,r=n[t];return r[y]&&i&&!1!==(o=e[C]||{})[S]&&(r=(o[n[x]]||{})[t]||r),function(){return r.apply(e,arguments)}}var r={};_(t,function(e){r[e]=o(n,t,e)});for(var a=F(e),s=[];a&&!E(a)&&!V(s,a);)_(a,function(e){!r[e]&&U(a,e,!M)&&(r[e]=o(n,a,e))}),s.push(a),a=F(a);return r}(r,o,e,s)),a=!!M&&!!a[k],l=r,i=i,f=o,d=e,t=!1!==(a=a&&t?!!t[k]:a),D(l)||(a=f[C]=f[C]||{},g=a[i]=a[i]||{},!1!==a[S]&&(a[S]=!!t),_(f,function(e){var t,o,r;U(f,e,!1)&&f[e]!==d[e]&&(g[e]=f[e],delete f[e],R(l,e)&&(!l[e]||l[e][y])||(l[e]=(t=l,o=e,(r=function(){var e,n;return(function(e,n,t,o){var r=null;if(e&&R(t,x)){var i=e[C]||{};if((r=(i[t[x]]||{})[n])||O("Missing ["+n+"] "+I),!r[w]&&!1!==i[S]){for(var a=!R(e,n),s=F(e),u=[];a&&s&&!E(s)&&!V(u,s);){var c=s[n];if(c){a=c===o;break}u.push(s),s=F(s)}try{a&&(e[n]=r),r[w]=1}catch(l){i[S]=!1}}}return r}(this,o,t,r)||(typeof(n=(n=t[e=o])===r?F(t)[e]:n)!==I&&O("["+e+"] is not a "+I),n)).apply(this,arguments)})[y]=1,r)))}))}j[N]={setInstFuncs:!0,useBaseInst:!0},(Vn=v=v||{})[Vn.CRITICAL=1]="CRITICAL",Vn[Vn.WARNING=2]="WARNING";var W={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103},q=c;function G(e){return n.toString.call(e)}function K(e){return e===undefined||typeof e===o}function z(e){return null===e||K(e)}function H(e){return!z(e)}function J(e){return typeof e===a}function Z(e,n){if(e)for(var t in e)l.call(e,t)&&n.call(e,t,e[t])}function X(e,n){return!(!e||!n||!~e.indexOf(n))}function $(e){return"string"==typeof e}function Q(e,n,t){for(var o=e.length,r=0;r<o&&!(r in e&&-1===n.call(t||e,e[r],r,e));r++);}function Y(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"")}var ee=!{toString:null}.propertyIsEnumerable("toString"),ne=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function te(){var e=Date;return e.now?e.now():(new e).getTime()}function oe(e){return"[object Error]"===G(e)?e.name:""}function re(e,n,t,o,r){var i=t;return e&&((i=e[n])===t||r&&!r(i)||o&&!o(t)||(e[n]=i=t)),i}function ie(e,n,t){var o;return e?!(o=e[n])&&z(o)&&(o=K(t)?{}:t,e[n]=o):o=K(t)?{}:t,o}function ae(e){return!!e}var se="window",ue="navigator",ce="location",le="JSON",fe="msie",de="trident/",ge=null,pe=null,ve=!1;function he(e){var n=f();return n&&n[e]?n[e]:e===se&&me()?window:null}function me(){return typeof window===s&&window}function Ie(){return typeof navigator===s&&navigator?navigator:he(ue)}function Ce(e){return e&&ve&&(e=he("__mockLocation"))?e:typeof location===s&&location?location:he(ce)}function ye(){return typeof JSON===s&&JSON||null!==he(le)}function xe(){return ye()?JSON||he(le):null}function we(){var e=Ie();return!e||e.userAgent===pe&&null!==ge||(e=((pe=e.userAgent)||"").toLowerCase(),ge=X(e,fe)||X(e,de)),ge}function Se(e){var n=Object[r].toString.call(e),t="";return"[object Error]"===n?t="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":ye()&&(t=xe().stringify(e)),n+t}function Ne(e){return e?'"'+e.replace(/\"/g,"")+'"':""}var Te=(Ae.dataType="MessageData",Ae);function Ae(e,n,t,o){void 0===t&&(t=!1),this.messageId=e,this.message=(t?"AI: ":"AI (Internal): ")+e,e="",ye()&&(e=xe().stringify(o)),e=(n?" message:"+Ne(n):"")+(o?" props:"+Ne(e):""),this.message+=e}function be(e,n){return(e||{}).logger||new ke(n)}var ke=function pt(t){this.identifier="DiagnosticLogger",this.queue=[];var r=0,a={};j(pt,this,function(i){function e(e,n){return z(e=t[e])?n:e}z(t)&&(t={}),i.consoleLoggingLevel=function(){return e("loggingLevelConsole",0)},i.telemetryLoggingLevel=function(){return e("loggingLevelTelemetry",1)},i.maxInternalMessageLimit=function(){return e("maxMessageLimit",25)},i.enableDebugExceptions=function(){return e("enableDebugExceptions",!1)},i.throwInternal=function(e,n,t,o,r){if(t=new Te(n,t,r=void 0!==r&&r,o),i.enableDebugExceptions())throw t;K(t.message)||(o=i.consoleLoggingLevel(),r?(r=+t.messageId,!a[r]&&o>=v.WARNING&&(i.warnToConsole(t.message),a[r]=!0)):o>=v.WARNING&&i.warnToConsole(t.message),i.logInternalMessage(e,t))},i.warnToConsole=function(e){var n,t=typeof console!==o?console:he("console");t&&(n="log",J(t[n=t.warn?"warn":n])&&t[n](e))},i.resetInternalMessageCount=function(){r=0,a={}},i.logInternalMessage=function(e,n){var t,o;r>=i.maxInternalMessageLimit()||(t=!0,o="AITR_"+n.messageId,a[o]?t=!1:a[o]=!0,t&&(e<=i.telemetryLoggingLevel()&&(i.queue.push(n),r++),r===i.maxInternalMessageLimit()&&(n=new Te(W.MessageLimitPerPVExceeded,e="Internal events throttle limit per PageView reached for this app.",!1),i.queue.push(n),i.warnToConsole(e))))}})},Pe=(Me.ParentContextKey="parent",Me.ChildrenContextKey="childEvts",Me);function Me(e,r,n){var o,i=this,a=!1;i.start=te(),i.name=e,i.isAsync=n,i.isChildEvt=function(){return!1},J(r)&&(a=function(e){if(q)try{var n={enumerable:!0,configurable:!0,get:function(){return!o&&J(r)&&(o=r(),r=null),o}};return q(e,"payload",n),!0}catch(t){}return!1}(i)),i.getCtx=function(e){return e?(e===Me.ParentContextKey||e===Me.ChildrenContextKey?i:i.ctx||{})[e]:null},i.setCtx=function(e,n){e&&(e===Me.ParentContextKey?(i[e]||(i.isChildEvt=function(){return!0}),i[e]=n):e===Me.ChildrenContextKey?i[e]=n:(i.ctx=i.ctx||{})[e]=n)},i.complete=function(){var e=0,n=i.getCtx(Me.ChildrenContextKey);if("[object Array]"===G(n))for(var t=0;t<n.length;t++){var o=n[t];o&&(e+=o.time)}i.time=te()-i.start,i.exTime=i.time-e,i.complete=function(){},!a&&J(r)&&(i.payload=r())}}var Le="CoreUtils.doPerf";function Re(e,n,t,o,r){if(e){var i=e;if(i=J(i.getPerfMgr)?i.getPerfMgr():i){var a,s=void 0,e=i.getCtx(Le);try{if(s=i.create(n(),o,r))return e&&s.setCtx&&(s.setCtx(Pe.ParentContextKey,e),e.getCtx&&e.setCtx&&((a=e.getCtx(Pe.ChildrenContextKey))||(a=[],e.setCtx(Pe.ChildrenContextKey,a)),a.push(s))),i.setCtx(Le,s),t(s)}catch(u){s&&s.setCtx&&s.setCtx("exception",u)}finally{s&&i.fire(s),i.setCtx(Le,e)}}}return t()}var De=function(r,n){var i=this,a=null,s=J(r.processTelemetry),u=J(r.setNextPlugin);i._hasRun=!1,i.getPlugin=function(){return r},i.getNext=function(){return a},i.setNext=function(e){a=e},i.processTelemetry=function(t,o){o=o||n;var e=r?r.identifier:"TelemetryPluginChain";Re(o?o.core():null,function(){return e+":processTelemetry"},function(){if(r&&s){i._hasRun=!0;try{o.setNext(a),u&&r.setNextPlugin(a),a&&(a._hasRun=!1),r.processTelemetry(t,o)}catch(n){var e=a&&a._hasRun;a&&e||o.diagLog().throwInternal(v.CRITICAL,W.PluginException,"Plugin ["+r.identifier+"] failed during processTelemetry - "+n),a&&!e&&a.processTelemetry(t,o)}}else a&&(i._hasRun=!0,a.processTelemetry(t,o))},function(){return{item:t}},!t.sync)}};function Ee(e,n){var t=[];if(e&&0<e.length)for(var o=null,r=0;r<e.length;r++){var i=e[r];i&&J(i.processTelemetry)&&(i=new De(i,n),t.push(i),o&&o.setNext(i),o=i)}return 0<t.length?t[0]:null}var Fe=function vt(e,r,t,n){var o,i,a,s,u=this,c=null;null!==n&&(e&&J(e.getPlugin)?c=function(e,n,t){var o=[],r=!t;if(e)for(;e;){var i=e.getPlugin();!r&&i!==t||(r=!0,o.push(i)),e=e.getNext()}return r||o.push(t),Ee(o,n)}(e,u,n||e.getPlugin()):n?(o=u,a=e,s=!1,(i=n)&&e&&(a=[],Q(e,function(e){!s&&e!==i||(s=!0,a.push(e))})),i&&!s&&(a=a||[]).push(i),c=Ee(a,o)):K(n)&&(c=Ee(e,u))),u.core=function(){return t},u.diagLog=function(){return be(t,r)},u.getCfg=function(){return r},u.getExtCfg=function(e,n){var t,o;return void 0===n&&(n={}),!r||(o=r.extensionConfig)&&e&&(t=o[e]),t||n},u.getConfig=function(e,n,t){var o;return void 0===t&&(t=!1),(e=u.getExtCfg(e,null))&&!z(e[n])?o=e[n]:r&&!z(r[n])&&(o=r[n]),z(o)?t:o},u.hasNext=function(){return null!=c},u.getNext=function(){return c},u.setNext=function(e){c=e},u.processNext=function(e){var n=c;n&&(c=n.getNext(),n.processTelemetry(e,u))},u.createNew=function(e,n){return new vt((e=void 0===e?null:e)||c,r,t,n)}},_e="getPlugin",Ue=(Oe.prototype.initialize=function(e,n,t,o){this._baseTelInit(e,n,t,o)},Oe);function Oe(){var i=this,a=!1,s=null,u=null;i.core=null,i.diagLog=function(e){return i._getTelCtx(e).diagLog()},i.isInitialized=function(){return a},i.setInitialized=function(e){a=e},i.setNextPlugin=function(e){u=e},i.processNext=function(e,n){n?n.processNext(e):u&&J(u.processTelemetry)&&u.processTelemetry(e,null)},i._getTelCtx=function(e){var n=e=void 0===e?null:e;return n||(e=s||new Fe(null,{},i.core),n=u&&u[_e]?e.createNew(null,u[_e]):e.createNew(null,u)),n},i._baseTelInit=function(e,n,t,o){e&&re(e,"extensionConfig",[],null,z),!o&&n&&(o=n.getProcessTelContext().getNext());var r=u;u&&u[_e]&&(r=u[_e]()),i.core=n,s=new Fe(o,e,n,r),a=!0}}var Ve="toGMTString",Be="toUTCString",je="cookie",We="expires",qe="enabled",Ge="isCookieUseDisabled",Ke="disableCookiesUsage",ze="_ckMgr",He="",Je=null,Ze=null,Xe=null,$e=typeof document===s&&document?document:he("document"),Qe={},Ye={};function en(e){return!e||e.isEnabled()}function nn(e,n){var t,o;return e?t=e.getCookieMgr():n&&(t=n.cookieCfg[ze]||tn(n)),t||(o=n,n=(e||{}).logger,(e=tn[ze]||Ye[ze])||(e=tn[ze]=tn(o,n),Ye[ze]=e),t=e),t}function tn(e,o){var n,t,u=(re(t=(n=e||Ye).cookieCfg=n.cookieCfg||{},"domain",n.cookieDomain,H,z),re(t,"path",n.cookiePath||"/",null,z),z(t[qe])&&(e=void 0,K(n[Ge])||(e=!n[Ge]),K(n[Ke])||(e=!n[Ke]),t[qe]=e),t),c=u.path||"/",l=u.domain,r=!1!==u[qe],f={isEnabled:function(){var e=r&&on(o),n=Ye[ze];return e&&n&&f!==n?en(n):e},setEnabled:function(e){r=!1!==e},set:function(e,n,t,o,r){var i,a,s;en(f)&&(i={},-1!=(s=(a=Y(n||He)).indexOf(";"))&&(a=Y(n.substring(0,s)),i=rn(n.substring(1+s))),re(i,"domain",o||l,ae,K),z(t)||(s=we(),!K(i[We])||0<(n=te()+1e3*t)&&((o=new Date).setTime(n),re(i,We,an(o,s?Ve:Be)||an(o,s?Ve:Be)||He,ae)),s||re(i,"max-age",He+t,null,K)),(t=Ce())&&"https:"===t.protocol&&(re(i,"secure",null,null,K),(Ze=null===Ze?!($(t=(Ie()||{}).userAgent)&&(X(t,"CPU iPhone OS 12")||X(t,"iPad; CPU OS 12")||X(t,"Macintosh; Intel Mac OS X 10_14")&&X(t,"Version/")&&X(t,"Safari")||X(t,"Macintosh; Intel Mac OS X 10_14")&&function(e,n){if(e){var t=e.length;if(e===n)return 1;if(40<=t){for(var o=t-1,r=39;0<=r;r--){if(e[o]!=n[r])return;o--}return 1}}}(t,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||X(t,"Chrome/5")||X(t,"Chrome/6")||X(t,"UnrealEngine")&&!X(t,"Chrome")||X(t,"UCBrowser/12")||X(t,"UCBrowser/11"))):Ze)&&re(i,"SameSite","None",null,K)),re(i,"path",r||c,null,K),(u.setCookie||un)(e,sn(a,i)))},get:function(e){var n=He;return en(f)?(u.getCookie||function(e){var n,t=He;return $e&&(n=$e[je]||He,Xe!==n&&(Qe=rn(n),Xe=n),t=Y(Qe[e]||He)),t})(e):n},del:function(e,n){en(f)&&f.purge(e,n)},purge:function(e,n){var t;on(o)&&((t={}).path=n||"/",t[We]="Thu, 01 Jan 1970 00:00:01 GMT",we()||(t["max-age"]="0"),(u.delCookie||un)(e,sn(He,t)))}};return f[ze]=f}function on(e){if(null===Je){Je=!1;try{Je=($e||{})[je]!==undefined}catch(n){e&&e.throwInternal(v.WARNING,W.CannotAccessCookie,"Cannot access document.cookie - "+oe(n),{exception:Se(n)})}}return Je}function rn(e){var t={};return e&&e.length&&Q(Y(e).split(";"),function(e){var n;(e=Y(e||He))&&(-1==(n=e.indexOf("="))?t[e]=null:t[Y(e.substring(0,n))]=Y(e.substring(1+n)))}),t}function an(e,n){return J(e[n])?e[n]():null}function sn(e,n){var t=e||He;return Z(n,function(e,n){t+="; "+e+(z(n)?He:"="+n)}),t}function un(e,n){$e&&($e[je]=e+"="+n)}var cn,ln=4294967296,fn=4294967295,dn=!1,gn=123456789,pn=987654321;function vn(e){var n,t=(t=he("crypto")||he("msCrypto"))&&t.getRandomValues?t.getRandomValues(new Uint32Array(1))[0]&fn:we()?(dn||function(){try{var e=2147483647&te();(n=(Math.random()*ln^e)+e)<0&&(n>>>=0),gn=123456789+n&fn,pn=987654321-n&fn,dn=!0}catch(t){}var n}(),n=((pn=36969*(65535&pn)+(pn>>16)&fn)<<16)+(65535&(gn=18e3*(65535&gn)+(gn>>16)&fn))>>>0&fn|0,(n>>>=0)&fn):Math.floor(ln*Math.random()|0);return e||(t>>>=0),t}function hn(e){void 0===e&&(e=22);for(var n=vn()>>>0,t=0,o="";o.length<e;)o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[0|63&n]||"",n>>>=6,5==++t&&(n=(vn()<<2&4294967295|3&n)>>>0,t=0);return o}function mn(e,n,t){var o,r,i=n.length,a=(n&&150<(n=Y(n.toString())).length&&(o=n.substring(0,150),e.throwInternal(v.WARNING,W.NameTooLong,"name is too long.  It has been truncated to 150 characters.",{name:n},!0)),o||n);if(a.length!==i){for(var s=0,u=a;t[u]!==undefined;)s++,u=a.substring(0,147)+(r="00"+s).substr(r.length-3);a=u}return a}function In(e,n,t){var o;return void 0===t&&(t=1024),n&&(t=t||1024,(n=Y(n)).toString().length>t&&(o=n.toString().substring(0,t),e.throwInternal(v.WARNING,W.StringValueTooLong,"string value is too long. It has been truncated to "+t+" characters.",{value:n},!0))),o||n}function Cn(o,e){var r;return e&&(r={},Z(e,function(e,n){if(typeof n===s&&ye())try{n=xe().stringify(n)}catch(t){o.throwInternal(v.WARNING,W.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:t},!0)}n=In(o,n,8192),e=mn(o,e,r),r[e]=n}),e=r),e}function yn(e,n,t,o){var r;return n&&(n=Y(n)).length>t&&(r=n.substring(0,t),e.throwInternal(v.WARNING,o,"input is too long, it has been truncated to "+t+" characters.",{data:n},!0)),r||n}(Bn=cn=cn||{})[Bn.LocalStorage=0]="LocalStorage",Bn[Bn.SessionStorage=1]="SessionStorage",(Wn=jn=jn||{})[Wn.AI=0]="AI",Wn[Wn.AI_AND_W3C=1]="AI_AND_W3C",Wn[Wn.W3C=2]="W3C";var xn=undefined;function wn(){return Nn()?Sn(cn.LocalStorage):null}function Sn(e){try{if(z(f()))return null;var n=new Date,t=he(e===cn.LocalStorage?"localStorage":"sessionStorage");t.setItem(n.toString(),n.toString());var o=t.getItem(n.toString())!==n.toString();if(t.removeItem(n.toString()),!o)return t}catch(r){}return null}function Nn(){return xn=xn===undefined?!!Sn(cn.LocalStorage):xn}function Tn(e,n){var t=wn();if(null!==t)try{return t.getItem(n)}catch(o){xn=!1,e.throwInternal(v.WARNING,W.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+oe(o),{exception:Se(o)})}return null}function An(e,n,t){var o=wn();if(null!==o)try{return o.setItem(n,t),1}catch(r){xn=!1,e.throwInternal(v.WARNING,W.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+oe(r),{exception:Se(r)})}}function bn(e,n){var t=wn();if(null!==t)try{return t.removeItem(n),1}catch(o){xn=!1,e.throwInternal(v.WARNING,W.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+oe(o),{exception:Se(o)})}}var kn,Pn=(p(Mn,kn=function(){this.ver=2,this.properties={},this.measurements={}}),Mn);function Mn(){var e=kn.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var Ln,Rn=(p(Dn,Ln=Pn),Dn.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",Dn.dataType="PageviewData",Dn);function Dn(e,n,t,o,r,i,a){var s,u,c,l=Ln.call(this)||this;return l.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},l.id=(s=e,a&&yn(s,a,128,W.IdTooLong).toString()),l.url=yn(e,t,2048,W.UrlTooLong),l.name=In(e,n)||"not_specified",isNaN(o)||(l.duration=(a=""+Math.floor((s=Math.round(s=isNaN(s=o)||s<0?0:s))/1e3)%60,t=""+Math.floor(s/6e4)%60,n=""+Math.floor(s/36e5)%24,o=Math.floor(s/864e5),s=1===(s=""+s%1e3).length?"00"+s:2===s.length?"0"+s:s,a=a.length<2?"0"+a:a,t=t.length<2?"0"+t:t,(0<o?o+".":"")+(n=n.length<2?"0"+n:n)+":"+t+":"+a+"."+s)),l.properties=Cn(e,r),l.measurements=(u=e,i&&(c={},Z(i,function(e,n){e=mn(u,e,c),c[e]=n}),i=c),i),l}function En(e){var n="ai."+e+".";return function(e){return n+e}}var Fn,_n,Un=En("application"),On=En("device"),Vn=En("location"),c=En("operation"),Bn=En("session"),jn=En("user"),Wn=En("cloud"),Pn=En("internal"),Pn=(_n={applicationVersion:Un("ver"),applicationBuild:Un("build"),applicationTypeId:Un("typeId"),applicationId:Un("applicationId"),applicationLayer:Un("layer"),deviceId:On("id"),deviceIp:On("ip"),deviceLanguage:On("language"),deviceLocale:On("locale"),deviceModel:On("model"),deviceFriendlyName:On("friendlyName"),deviceNetwork:On("network"),deviceNetworkName:On("networkName"),deviceOEMName:On("oemName"),deviceOS:On("os"),deviceOSVersion:On("osVersion"),deviceRoleInstance:On("roleInstance"),deviceRoleName:On("roleName"),deviceScreenResolution:On("screenResolution"),deviceType:On("type"),deviceMachineName:On("machineName"),deviceVMName:On("vmName"),deviceBrowser:On("browser"),deviceBrowserVersion:On("browserVersion"),locationIp:Vn("ip"),locationCountry:Vn("country"),locationProvince:Vn("province"),locationCity:Vn("city"),operationId:c("id"),operationName:c("name"),operationParentId:c("parentId"),operationRootId:c("rootId"),operationSyntheticSource:c("syntheticSource"),operationCorrelationVector:c("correlationVector"),sessionId:Bn("id"),sessionIsFirst:Bn("isFirst"),sessionIsNew:Bn("isNew"),userAccountAcquisitionDate:jn("accountAcquisitionDate"),userAccountId:jn("accountId"),userAgent:jn("userAgent"),userId:jn("id"),userStoreRegion:jn("storeRegion"),userAuthUserId:jn("authUserId"),userAnonymousUserAcquisitionDate:jn("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:jn("authUserAcquisitionDate"),cloudName:Wn("name"),cloudRole:Wn("role"),cloudRoleVer:Wn("roleVer"),cloudRoleInstance:Wn("roleInstance"),cloudEnvironment:Wn("environment"),cloudLocation:Wn("location"),cloudDeploymentUnit:Wn("deploymentUnit"),internalNodeName:Pn("nodeName"),internalSdkVersion:Pn("sdkVersion"),internalAgentVersion:Pn("agentVersion"),internalSnippet:Pn("snippet"),internalSdkSrc:Pn("sdkSrc")},p(qn,Fn=function(){var t=this;Z(_n,function(e,n){t[e]=n})}),qn);function qn(){return Fn.call(this)||this}var Gn="user",Kn="device",zn="trace",Hn="web",Jn="app",Zn="os",Xn=new Pn,$n=function(){},Qn=(Yn.acquisitionSpan=864e5,Yn.renewalSpan=18e5,Yn.cookieUpdateInterval=6e4,Yn);function Yn(n,e){var f,d,g=be(e),p=nn(e);j(Yn,this,function(u){J((n=n||{}).sessionExpirationMs)||(n.sessionExpirationMs=function(){return Yn.acquisitionSpan}),J(n.sessionRenewalMs)||(n.sessionRenewalMs=function(){return Yn.renewalSpan}),u.config=n;var e=u.config.sessionCookiePostfix&&u.config.sessionCookiePostfix()?u.config.sessionCookiePostfix():u.config.namePrefix&&u.config.namePrefix()?u.config.namePrefix():"";function c(e,n){var t=!1,o=", session will be reset",r=n.split("|");if(2<=r.length)try{var i=+r[1]||0,a=+r[2]||0;isNaN(i)||i<=0?g.throwInternal(v.WARNING,W.SessionRenewalDateIsZero,"AI session acquisition date is 0"+o):isNaN(a)||a<=0?g.throwInternal(v.WARNING,W.SessionRenewalDateIsZero,"AI session renewal date is 0"+o):r[0]&&(e.id=r[0],e.acquisitionDate=i,e.renewalDate=a,t=!0)}catch(s){g.throwInternal(v.CRITICAL,W.ErrorParsingAISessionCookie,"Error parsing ai_session value ["+(n||"")+"]"+o+" - "+oe(s),{exception:Se(s)})}return t}function l(e,n){var t=e.acquisitionDate;e.renewalDate=n;var o=u.config,r=o.sessionRenewalMs(),i=t+o.sessionExpirationMs()-n,e=[e.id,t,n],t=i<r?i/1e3:r/1e3,r=o.cookieDomain?o.cookieDomain():null;p.set(f(),e.join("|"),0<o.sessionExpirationMs()?t:null,r),d=n}f=function(){return"ai_session"+e},u.automaticSession=new $n,u.update=function(){var e,n=te(),t=!1,o=u.automaticSession;o.id||(r=o,s=!1,t=!((s=(e=p.get(f()))&&J(e.split)||(e=Tn(g,f()))?c(r,e):s)||r.id));var r,i,a,s=u.config.sessionExpirationMs();!t&&0<s&&(i=u.config.sessionRenewalMs(),r=n-o.acquisitionDate,a=n-o.renewalDate,t=(t=(t=r<0||a<0)||s<r)||i<a),t?(i=n,t=((a=u.config||{}).getNewId?a.getNewId():null)||hn,u.automaticSession.id=t(a.idLength?a.idLength():22),u.automaticSession.acquisitionDate=i,l(u.automaticSession,i),Nn()||g.throwInternal(v.WARNING,W.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")):(!d||Yn.cookieUpdateInterval<n-d)&&l(o,n)},u.backup=function(){var e=(t=u.automaticSession).id,n=t.acquisitionDate,t=t.renewalDate;An(g,f(),[e,n,t].join("|"))}})}var et=function(){},nt=function(){this.id="browser",this.deviceClass="Browser"},tt=function(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:2.6.5"};function ot(e){return"string"==typeof e&&e&&!e.match(/,|;|=| |\|/)}var rt=(it.cookieSeparator="|",it.userCookieName="ai_user",it.authUserCookieName="ai_authUser",it);function it(i,e){this.isNewUser=!1;var a,s=be(e),u=nn(e);j(it,this,function(o){o.config=i;var e=o.config.userCookiePostfix&&o.config.userCookiePostfix()?o.config.userCookiePostfix():"";a=function(){return it.userCookieName+e};var n,t=u.get(a());t&&(o.isNewUser=!1,0<(n=t.split(it.cookieSeparator)).length&&(o.id=n[0])),o.id||(r=((n=i||{}).getNewId?n.getNewId():null)||hn,o.id=r(n.idLength?i.idLength():22),r=function(e){if("[object Date]"===G(e)){var n=function(e){return 1===(e=""+e).length?"0"+e:e};return e.getUTCFullYear()+"-"+n(1+e.getUTCMonth())+"-"+n(e.getUTCDate())+"T"+n(e.getUTCHours())+":"+n(e.getUTCMinutes())+":"+n(e.getUTCSeconds())+"."+(""+(e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(new Date),o.accountAcquisitionDate=r,o.isNewUser=!0,r=[o.id,r],u.set(a(),r.join(it.cookieSeparator),31536e3),r=i.namePrefix&&i.namePrefix()?i.namePrefix()+"ai_session":"ai_session",bn(s,r)),o.accountId=i.accountId?i.accountId():undefined;var r=u.get(it.authUserCookieName);r&&((r=(r=decodeURI(r)).split(it.cookieSeparator))[0]&&(o.authenticatedId=r[0]),1<r.length&&r[1]&&(o.accountId=r[1])),o.setAuthenticatedUserContext=function(e,n,t){void 0===t&&(t=!1),!ot(e)||n&&!ot(n)?s.throwInternal(v.WARNING,W.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0):(o.authenticatedId=e,e=o.authenticatedId,n&&(o.accountId=n,e=[o.authenticatedId,o.accountId].join(it.cookieSeparator)),t&&u.set(it.authUserCookieName,encodeURI(e)))},o.clearAuthenticatedUserContext=function(){o.authenticatedId=null,o.accountId=null,u.del(it.authUserCookieName)}})}var at=function(){},st=function(e,n,t,o){var r=this;r.traceID=e||function(){for(var e,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t="",o=0;o<4;o++)t+=n[15&(e=vn())]+n[e>>4&15]+n[e>>8&15]+n[e>>12&15]+n[e>>16&15]+n[e>>20&15]+n[e>>24&15]+n[e>>28&15];var r=n[8+(3&vn())|0];return t.substr(0,8)+t.substr(9,4)+"4"+t.substr(13,3)+r+t.substr(16,3)+t.substr(19,12)}(),r.parentID=n,r.name=t,n=Ce(),!t&&n&&n.pathname&&(r.name=n.pathname),r.name=In(o,r.name)},ut="ext",ct="tags";function lt(e,n){e&&e[n]&&0===function(e){var n=typeof e;n===a||n===s&&null!==e||d("objKeys called on non-object");var t,o=[];for(t in e)e&&l.call(e,t)&&o.push(t);if(ee)for(var r=ne.length,i=0;i<r;i++)e&&l.call(e,ne[i])&&o.push(ne[i]);return o}(e[n]).length&&delete e[n]}var ft,dt=function ht(e,n){var o=this,t=e.logger;this.appId=function(){return null},j(ht,this,function(r){r.application=new et,r.internal=new tt(n),me()&&(r.sessionManager=new Qn(n,e),r.device=new nt,r.location=new at,r.user=new rt(n,e),r.telemetryTrace=new st(undefined,undefined,undefined,t),r.session=new $n),r.applySessionContext=function(e,n){var t=r.session,o=r.sessionManager;t&&$(t.id)?re(ie(e.ext,Jn),"sesId",t.id):o&&o.automaticSession&&re(ie(e.ext,Jn),"sesId",o.automaticSession.id,$)},r.applyOperatingSystemContxt=function(e,n){re(e.ext,Zn,r.os)},r.applyApplicationContext=function(e,n){var t=r.application;t&&(re(e=ie(e,ct),Xn.applicationVersion,t.ver,$),re(e,Xn.applicationBuild,t.build,$))},r.applyDeviceContext=function(e,n){var t=r.device;t&&(re(e=ie(ie(e,ut),Kn),"localId",t.id,$),re(e,"ip",t.ip,$),re(e,"model",t.model,$),re(e,"deviceClass",t.deviceClass,$))},r.applyInternalContext=function(e,n){var t,o=r.internal;o&&(re(t=ie(e,ct),Xn.internalAgentVersion,o.agentVersion,$),re(t,Xn.internalSdkVersion,o.sdkVersion,$),e.baseType!==Te.dataType&&e.baseType!==Rn.dataType||(re(t,Xn.internalSnippet,o.snippetVer,$),re(t,Xn.internalSdkSrc,o.sdkSrc,$)))},r.applyLocationContext=function(e,n){var t=o.location;t&&re(ie(e,ct,[]),Xn.locationIp,t.ip,$)},r.applyOperationContext=function(e,n){var t=r.telemetryTrace;t&&(re(e=ie(ie(e,ut),zn,{traceID:undefined,parentID:undefined}),"traceID",t.traceID,$),re(e,"name",t.name,$),re(e,"parentID",t.parentID,$))},r.applyWebContext=function(e,n){var t=o.web;t&&re(ie(e,ut),Hn,t)},r.applyUserContext=function(e,n){var t=r.user;t&&(re(ie(e,ct,[]),Xn.userAccountId,t.accountId,$),re(e=ie(ie(e,ut),Gn),"id",t.id,$),re(e,"authId",t.authenticatedId,$))},r.cleanUp=function(e,n){(e=e.ext)&&(lt(e,Kn),lt(e,Gn),lt(e,Hn),lt(e,Zn),lt(e,Jn),lt(e,zn))}})},Ue=(p(gt,ft=Ue),gt.getDefaultConfig=function(){return{instrumentationKey:function(){return undefined},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){return undefined},sessionCookiePostfix:function(){return undefined},userCookiePostfix:function(){return undefined},idLength:function(){return 22},getNewId:function(){return null}}},gt);function gt(){var c,l,e=ft.call(this)||this;return e.priority=110,e.identifier="AppInsightsPropertiesPlugin",j(gt,e,function(s,u){s.initialize=function(e,n,t,o){u.initialize(e,n,t,o);var r,i=s._getTelCtx(),a=s.identifier,o=gt.getDefaultConfig();l=l||{},Z(o,function(e,n){l[e]=function(){return i.getConfig(a,e,n())}}),s.context=new dt(n,l),r=null,Q(t,function(e){if("AppInsightsChannelPlugin"===e.identifier)return r=e,-1}),c=r,s.context.appId=function(){return c?c._appId:null},s._extConfig=l},s.processTelemetry=function(e,n){var t;z(e)||(n=s._getTelCtx(n),e.name===Rn.envelopeType&&n.diagLog().resetInternalMessageCount(),(t=s.context||{}).session&&"string"!=typeof s.context.session.id&&t.sessionManager&&t.sessionManager.update(),function(e,n){ie(e,"tags",[]),ie(e,"ext",{});var t=s.context;t.applySessionContext(e,n),t.applyApplicationContext(e,n),t.applyDeviceContext(e,n),t.applyOperationContext(e,n),t.applyUserContext(e,n),t.applyOperatingSystemContxt(e,n),t.applyWebContext(e,n),t.applyLocationContext(e,n),t.applyInternalContext(e,n),t.cleanUp(e,n)}(e,n),t.user&&t.user.isNewUser&&(t.user.isNewUser=!1,t=new Te(W.SendBrowserInfoOnUserInit,(Ie()||{}).userAgent||""),n.diagLog().logInternalMessage(v.CRITICAL,t)),s.processNext(e,n))}}),e}e.PropertiesPlugin=Ue,e.Session=$n,e.SessionManager=Qn,e.TelemetryContext=dt,e.TelemetryTrace=st,function(e,n,t){var o=Object.defineProperty;if(o)try{return o(e,n,t)}catch(r){}typeof t.value!==undefined&&(e[n]=t.value)}(e,"__esModule",{value:!0})};"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(((e="undefined"!=typeof globalThis?globalThis:e||self).Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{}));
//# sourceMappingURL=applicationinsights-properties-js.min.js.map
